<%- include('./partials/header') %>
<%- include('./partials/main_nav') %>

<div class="container my-4">
  <h1>Edit Habit</h1>

  <form action="/habits/edit/<%= habit._id %>" method="POST">
    <div class="mb-3">
      <label for="habitName" class="form-label">Habit Name</label>
      <input
        type="text"
        id="habitName"
        name="habitName"
        class="form-control"
        required
        value="<%= habit.habitName %>">
    </div>

    <div class="mb-3">
      <label for="frequency" class="form-label">Frequency</label>
      <select id="frequency" name="frequency" class="form-select" required>
        <option value="Daily"   <%= habit.frequency === 'Daily' ? 'selected' : '' %>>Daily</option>
        <option value="Weekly"  <%= habit.frequency === 'Weekly' ? 'selected' : '' %>>Weekly</option>
        <option value="Monthly" <%= habit.frequency === 'Monthly' ? 'selected' : '' %>>Monthly</option>
      </select>
    </div>

    <div class="mb-3">
      <label for="streak" class="form-label">Current Streak (days)</label>
      <input
        type="number"
        id="streak"
        name="streak"
        class="form-control"
        min="0"
        value="<%= habit.streak %>">
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description</label>
      <textarea id="description" name="description" class="form-control" rows="3"><%= habit.description %></textarea>
    </div>

    <div class="mb-3">
      <label for="notes" class="form-label">Notes</label>
      <textarea id="notes" name="notes" class="form-control" rows="2"><%= habit.notes %></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Update Habit</button>
    <a href="/habits" class="btn btn-secondary ms-2">Cancel</a>
  </form>
</div>

<%- include('./partials/footer') %>
